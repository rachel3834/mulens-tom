{% extends 'base.html' %}

{% block project_id %}{{project.name}}{% endblock %}
{% block title_text %}Request Observation{% endblock %}
{% block header_text %}Request Observation{% endblock %}

{% block mainregion %}
<center>
<h3>Record an Observation Request</h3>
<div>
    <form method="POST" class="post-form">{% csrf_token %}
        {{ formset.management_form }}
        <table>
            <tr>
                <td><label for="{{nform.name.id_for_label}}">Target:</label></td>
                <td><div class="fieldWrapper">
                        {{nform.name.errors}}
                        <select name="target_name">
                            {% for name in targets %}
                                <option value="{{name}}">{{name}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </td>
                <td><label for="obs_type">Observation Type:</label></td>
                <td><div class="fieldWrapper">
                        <select name="obs_tpe">
                            <option value="single-site">single-site</option>
                            <option value="multi-site">multi-site</option>
                        </select>
                    </div>
                </td>
                <td></td><td></td>
            </tr>
            <tr>
                <td><label for="{{eform1.inst_filter.id_for_label}}">Exposure group 1 Filter:</label></td>
                <td><div class="fieldWrapper">
                        {{eform1.inst_filter.errors}}
                        {{eform1.inst_filter}}
                    </div>
                </td>
                <td><label for="{{eform1.exp_time.id_for_label}}">Exposure [sec]:</label></td>
                <td><div class="fieldWrapper">
                        {{eform1.exp_time.errors}}
                        {{eform1.exp_time}}
                    </div>
                </td>
                <td><label for="{{eform1.n_exp.id_for_label}}">Number of exposures:</label></td>
                <td><div class="fieldWrapper">
                        {{eform1.n_exp.errors}}
                        {{eform1.n_exp}}
                    </div>
                </td>
            </tr>
            <tr>
                <td><label for="{{eform2.inst_filter.id_for_label}}">Exposure group 2 Filter:</label></td>
                <td><div class="fieldWrapper">
                        {{eform2.inst_filter.errors}}
                        {{eform2.inst_filter}}
                    </div>
                </td>
                <td><label for="{{eform2.exp_time.id_for_label}}">Exposure [sec]:</label></td>
                <td><div class="fieldWrapper">
                        {{eform2.exp_time.errors}}
                        {{eform2.exp_time}}
                    </div>
                </td>
                <td><label for="{{eform2.n_exp.id_for_label}}">Number of exposures:</label></td>
                <td><div class="fieldWrapper">
                        {{eform2.n_exp.errors}}
                        {{eform2.n_exp}}
                    </div>
                </td>
            </tr>
            <tr>
                <td><label for="{{eform3.inst_filter.id_for_label}}">Exposure group 3 Filter:</label></td>
                <td><div class="fieldWrapper">
                        {{eform3.inst_filter.errors}}
                        {{eform3.inst_filter}}
                    </div>
                </td>
                <td><label for="{{eform3.exp_time.id_for_label}}">Exposure [sec]:</label></td>
                <td><div class="fieldWrapper">
                        {{eform3.exp_time.errors}}
                        {{eform3.exp_time}}
                    </div>
                </td>
                <td><label for="{{eform3.n_exp.id_for_label}}">Number of exposures:</label></td>
                <td><div class="fieldWrapper">
                        {{eform3.n_exp.errors}}
                        {{eform3.n_exp}}
                    </div>
                </td>
            </tr>
            <tr>
                <td><label for="{{oform.start_obs.id_for_label}}">Start date:</label></td>
                <td><div class="fieldWrapper">
                        {{oform.start_obs.errors}}
                        {{oform.start_obs}}
                    </div>
                </td>
                <td><label for="{{oform.stop_obs.id_for_label}}">End date:</label></td>
                <td><div class="fieldWrapper">
                        {{oform.stop_obs.errors}}
                        {{oform.stop_obs}}
                    </div>
                </td><td></td><td></td>
            </tr>
            <tr>
                <td><label for="{{oform.group_type.id_for_label}}">Observation type:</label></td>
                <td><div class="fieldWrapper">
                        {{oform.group_type.errors}}
                        {{oform.group_type}}
                    </div>
                </td>
                <td><label for="{{oform.cadence.id_for_label}}">Cadence [hrs]:</label></td>
                <td><div class="fieldWrapper">
                        {{oform.cadence.errors}}
                        {{oform.cadence}}
                    </div>
                </td>
                <td><label for="{{oform.jitter.id_for_label}}">Jitter [hrs]:</label></td>
                <td><div class="fieldWrapper">
                        {{oform.jitter.errors}}
                        {{oform.jitter}}
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="fieldWrapper">
                    <button type="sumbit" class="save btn btn-default">Submit</button>
                    </div>
                </td><td></td><td></td><td></td><td></td><td></td>
            </tr>
        </table>
    </form>
</div>
{% if message != 'none' %}
    <div>
    <center>
        <h5>{{ message }}</h5>
    </center>
    </div>
{% endif %}

</center>
{% endblock %}